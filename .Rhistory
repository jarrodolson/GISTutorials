ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
scale_fill_continuous(name="Relief",low="#006400",high="white")
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+theme(panel.backgroun.color="Blue")
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+theme(panel.background.color="Blue")
help(theme)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+theme(plot.background=element_rect(color="Blue"))
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+theme(plot.background=element_rect(fill="Blue"))
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+theme(panel.background=element_rect(fill="Blue"))
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill="Blue"),
panel.grid=element_blank())
marine <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_cultural','ne_10m_geography_marine_polys')
marine <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_physical','ne_10m_geography_marine_polys')
View(marine@data)
View(marine@data$name=="Puget Sound")
View(marine@data[which(marine@data$name=="Puget Sound"),])
psount <- marine[which(marine@data$name=="Puget Sound"),]
psound.df <- shapeToDataFrame(psount)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_polygon(data=psound.df,aes(x=long,y=lat,group=group),fill="Blue",color=NA)+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill=NA),
panel.grid=element_blank())
psount <- marine[which(marine@data$name=="Puget Sound" | marine@data$name=="Strait of Juan de Fuca"),]
View(psount@data)
psound.df <- shapeToDataFrame(psount)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_polygon(data=psound.df,aes(x=long,y=lat,group=group),fill="Blue",color=NA)+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill=NA),
panel.grid=element_blank())
psount <- marine[which(marine@data$name=="Puget Sound" | marine@data$name=="Strait of Juan de Fuca" | marine@data$name=="Haro Strait"),]
psound.df <- shapeToDataFrame(psount)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_polygon(data=psound.df,aes(x=long,y=lat,group=group),fill="Blue",color=NA)+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill=NA),
panel.grid=element_blank())
psount <- marine[which(marine@data$name=="Puget Sound" | marine@data$name=="Strait of Juan de Fuca" | marine@data$name=="Salish Sea"),]
psound.df <- shapeToDataFrame(psount)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_polygon(data=psound.df,aes(x=long,y=lat,group=group),fill="Blue",color=NA)+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill=NA),
panel.grid=element_blank())
psount <- marine[which(marine@data$name=="Puget Sound" | marine@data$name=="Strait of Juan de Fuca" | marine@data$name=="Rosario Strait"),]
psound.df <- shapeToDataFrame(psount)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_polygon(data=psound.df,aes(x=long,y=lat,group=group),fill="Blue",color=NA)+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill=NA),
panel.grid=element_blank())
psount <- marine[which(marine@data$name %in% c("Puget Sound","Strait of Juan de Fuca", "Rosario Strait")),]
psount <- marine[which(marine@data$name %in% c("Puget Sound","Strait of Juan de Fuca", "Rosario Strait","Bellingham Bay",'Padilla Bay"")),]
psount <- marine[which(marine@data$name %in% c("Puget Sound","Strait of Juan de Fuca", "Rosario Strait","Bellingham Bay",'Padilla Bay")),]
psount <- marine[which(marine@data$name %in% c("Puget Sound","Strait of Juan de Fuca", "Rosario Strait","Bellingham Bay","Padilla Bay")),]
psound.df <- shapeToDataFrame(psount)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_polygon(data=psound.df,aes(x=long,y=lat,group=group),fill="Blue",color=NA)+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill=NA),
panel.grid=element_blank())
rivers <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_physical','ne_10m_rivers_lake_centerlines')
View(rivers@data)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_line(data=rivers.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
rivers.df <- shapeToDataFrame(rivers)
rivers.df <- shapeToDataFrame(rivers)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_line(data=rivers.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
test <- gIntersection(rivers,wa)
plot(test)
rivers <- gIntersection(rivers,wa)
rivers.df <- shapeToDataFrame(rivers)
rivers <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_physical','ne_10m_rivers_lake_centerlines')
rivers <- gIntersection(rivers,wa)
class(rivers)
rivers <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_physical','ne_10m_rivers_lake_centerlines')
psound.df <- shapeToDataFrame(psount)
rivers.wa <- gIntersection(rivers,wa)
rivers.wa.data <- as.data.frame(unique(rivers.wa@data$admin),stringsAsFactors=FALSE)
rivers.wa.data <- as.data.frame(unique(rivers@data$admin),stringsAsFactors=FALSE)
View(rivers.wa.data)
rivers.wa <- SpatialLinesDataFrame(rivers.wa,rivers.wa.data)
View(rivers@data)
rivers.wa.data <- as.data.frame(unique(rivers@data$name),stringsAsFactors=FALSE)
colnames(rivers.wa.data) <- 'name'
rownames(rivers.wa.data) <- rivers.wa@data$name
rivers <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_physical','ne_10m_rivers_lake_centerlines')
rivers.wa <- gIntersection(rivers,wa)
rivers.wa.data <- as.data.frame(unique(rivers@data$name),stringsAsFactors=FALSE)
View(rivers.wa.data)
rivers.wa.data <- as.data.frame(unique(rivers@data),stringsAsFactors=FALSE)
View(rivers.wa.data)
rownames(rivers.wa.data) <- rivers.wa@data$name
rownames(rivers.wa.data) <- rivers@data$name
str(gIntersection)
rivers.points = fortify(rivers.wa,region='id')
gIntersection[1]
str(rivers.wa)
help(gIntersection)
rivers.wa <- gIntersection(rivers,wa, id=rivers@data$name)
rivers <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_physical','ne_10m_rivers_lake_centerlines')
rivers.wa <- gIntersection(rivers, wa, id=rivers@data$name)
rivers.wa <- gIntersection(rivers, wa)
rivers.wa <- gIntersection(rivers, wa, byid=TRUE, id=rivers@data$name)
rivers.wa <- gIntersection(rivers, wa, IDs=rivers@data$name)
rivers.wa <- gIntersection(rivers, wa, id="rivers@data$name")
str(rivers.wa)
rivers.wa <- gIntersection(rivers, wa, id=row.names(rivers@data))
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
rivers.wa <- gIntersection(rivers, wa)
rivers.wa <- SpatialLinesDataFrame(rivers.wa,rivers.wa.data)
rivers.df <- shapeToDataFrame(rivers)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
rivers.wa.df <- shapeToDataFrame(rivers.wa)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
ggplot()+
#geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
#geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")#+
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")#+
theme(panel.background=element_rect(fill='Blue'),
scale_fill_continuous(name="Relief",low="#006400",high="white")+
panel.grid=element_blank())
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
lakes <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_physical','ne_10m_lakes')
lakes.wa <- gIntersection(lakes,wa)
lakes.wa <- gIntersection(lakes,wa,byid=TRUE)
lakes.wa.data <- as.data.frame(unique(lakes@data),stringsAsFactors=FALSE)
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data)
plot(lakes.wa)
View(lakes.wa.data)
rownames(lakes.wa)
str(lakes.wa)
lakes.wa <- gIntersects(lakes,wa,byid=TRUE)##Necessary for multiple polygons
class(lakes.wa)
View(lakes.wa)
lakes.wa.data <- as.data.frame(unique(lakes@data),stringsAsFactors=FALSE)
lakes.wa.data$Insample <- gIntersects(lakes,wa,byid=TRUE)
lakes.wa.data$Insample <- as.vector(gIntersects(lakes,wa,byid=TRUE))
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
lakes.wa.data$Insample <- as.vector(gIntersects(lakes,wa,byid=TRUE))
View(lakes.wa.data)
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data[which(lakes.wa.data$InSample==TRUE),])
lakes.wa <- gIntersection(lakes,wa,byid=TRUE)##Necessary for multiple polygons
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
lakes.wa.data$Insample <- as.vector(gIntersects(lakes,wa,byid=TRUE))
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data[which(lakes.wa.data$InSample==TRUE),])
length(lakes.wa)
length(lakes.wa.data$InSample==TRUE)
table(lakes.wa.data$InSample)
table(lakes.wa.data$InSample)
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
lakes.wa.data$Insample <- as.vector(gIntersects(lakes,wa,byid=TRUE))
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data[which(lakes.wa.data$InSample==TRUE),])
table(lakes.wa.data$InSample)
table(lakes.wa.data$Insample)
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data[which(lakes.wa.data$Insample==TRUE),])
View(lakes.wa.data[which(lakes.wa.data$Insample==TRUE),])
row.names(lakes.w)
row.names(lakes.wa)
row.names(lakes.wa.data)
rownames(lake.wa.data[which(lakes.wa.data$Insample),])
rownames(lakes.wa.data[which(lakes.wa.data$Insample),])
lakes.wa.data <- lakes.wa.data[which(lakes.wa.data$Insample==TRUE),]
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data[which(lakes.wa.data$Insample==TRUE),])
lakes.wa.data <- lakes.wa.data[which(rownames(lakes.wa) %in% rownames(lakes.wa.data)),]
len(lakes.wa.data)
length(laes.wa.data)
length(lakes.wa.data)
rownames(lakes.wa.data)
lakes.wa.data
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
lakes.wa.data <- lakes.wa.data[which(rownames(lakes.wa.data) %in% rownames(lakes.wa)),]
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
rownames(lakes.wa.data)
rownames(lakes.wa)
lakes <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_physical','ne_10m_lakes')
lakes.wa <- gIntersection(lakes,wa,byid=TRUE)##Necessary for multiple polygons
rownames(lakes.wa)
lakes.wa$id
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
lakes.wa.data$Insample <- as.vector(gIntersects(lakes,wa,byid=TRUE))
lakes.wa.data <- lakes.wa.data[which(lakes.wa.data$Insample==TRUE),]
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data)
lakes.wa@id
str(lakes.wa)
rownames(lakes.wa.data)
lakes.wa@polygons@id
lakes.wa@polygons$polygons@id
lakes.wa@polygons$polygons@ID
lakes.wa@polygons$polygons@ID
lakes.wa@polygons@id
getSpPPolygonsIDSlots(lakes.wa)
unique(getSpPPolygonsIDSlots(lakes.wa) )
getSpPPolygonsIDSlots
temp <- getSpPPolygonsIDSlots(lakes.wa)
temp
class(temp)
as.vector(temp)
class(temp)
temp[1]
temp[1][1]
temp[[1]]
temp <- sapply(slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
class(temp)
temp
temp <- slot(lakes.wa, "polygons"), function(x) slot(x, "ID")
temp <- slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
temp <- slot(lakes.wa, "polygons")#, function(x) slot(x, "ID"))
temp
temp$ID
slot(temp)
slot(temp, "ID")
sapply(slot(mySpatialPolygons, "polygons"), function(x) slot(x, "ID"))
sapply(slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
temp <- sapply(slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
temp[1]
temp <- gsub(temp,'"',"")
help(gsub)
temp <- gsub('"',"",temp)
temp
temp <- sapply(slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
temp <- sub('"',"",temp)
temp
temp <- sapply(slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
temp <- gsub('"',"",temp)
temp
temp <- gsub('"',"",temp[1])
temp
strsplit(temp," ")
temp <- sapply(slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
temp <- strsplit(temp[1]," ")[[1]]
temp
temp <- as.numeric(strsplit(temp[1]," ")[[1]])
temp <- sapply(slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
temp <- as.numeric(strsplit(temp[1]," ")[[1]])
temp
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
#lakes.wa.data$Insample <- as.vector(gIntersects(lakes,wa,byid=TRUE))
lakes.wa.data <- lakes.wa.data[which(rownames(lakes.wa.data) %in% temp),]
View(lakes.wa.data)
temp
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
lakes.wa.data[3459]
lakes.wa.data[3459,]
lakes.wa.data[which(rowname==3459),]
lakes.wa.data[which(rownames(lakes.wa.data)==3459),]
colnames(lakes@data)
rownames(lakes) <- lakes@data$name
rownames(lakes@data) <- lakes@data$name
View(lakes@data)
temp <- sapply(slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
temp
temp <- as.numeric(strsplit(temp[1]," ")[[1,3]])
temp <- as.numeric(strsplit(temp[1]," ")[[1]])
temp
temp <- as.numeric(strsplit(temp[1]," ")
temp <- sapply(slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
temp <- as.numeric(strsplit(temp[1]," "))
for(el in temp){
print(el)
}
for(el in temp){
print(strsplit(el," "))
}
for(el in temp){
print(strsplit(el," ")[[1]])
}
for(el in temp){
print(strsplit(el," ")[[1]][1])
}
temp2 <- c()
for(el in temp){
temp2 <- c(temp2,strsplit(el," ")[[1]][1]))
}
temp2 <- c()
for(el in temp){
temp2 <- c(temp2,strsplit(el," ")[[1]][1])
}
temp2
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
#lakes.wa.data$Insample <- as.vector(gIntersects(lakes,wa,byid=TRUE))
lakes.wa.data <- lakes.wa.data[which(rownames(lakes.wa.data) %in% temp2),]
#lakes.wa.data <- lakes.wa.data[which(rownames(lakes.wa.data) %in% rownames(lakes.wa)),]
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data)
lakes <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_physical','ne_10m_lakes')
lakes.wa <- gIntersection(lakes,wa,byid=TRUE)##Necessary for multiple polygons
temp <- sapply(slot(lakes.wa, "polygons"), function(x) slot(x, "ID"))
temp2 <- c()
for(el in temp){
temp2 <- c(temp2,strsplit(el," ")[[1]][1])
}
temp2
temp
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
#lakes.wa.data$Insample <- as.vector(gIntersects(lakes,wa,byid=TRUE))
lakes.wa.data <- lakes.wa.data[which(rownames(lakes.wa.data) %in% temp2),]
#lakes.wa.data <- lakes.wa.data[which(rownames(lakes.wa.data) %in% rownames(lakes.wa)),]
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data)
temp2 <- c()
for(el in temp){
temp2 <- c(temp2,strsplit(el," ")[[1]])
}
temp2
lakes.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
#lakes.wa.data$Insample <- as.vector(gIntersects(lakes,wa,byid=TRUE))
lakes.wa.data <- lakes.wa.data[which(rownames(lakes.wa.data) %in% temp2),]
#lakes.wa.data <- lakes.wa.data[which(rownames(lakes.wa.data) %in% rownames(lakes.wa)),]
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data)
help(SpatialPolygonsDataFrame)
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data,match.id=FALSE)
lakes.wa <- SpatialPolygonsDataFrame(lakes.wa,lakes.wa.data,match.ID=FALSE)
lakes.wa.df <- shapetoDataFrame(lakes.wa)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
View(lakes.wa.data)
View(lakes.wa.df)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
#geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
regions <- readOGR('../_Datasets/Natural_Earth_quick_start/10m_physical','ne_10m_geography_regions_polys')
plot(regions)
regions.wa <- gIntersection(lakes,wa,byid=TRUE)
temp <- sapply(slot(regions.wa,"polygons"), function9x) slot(x, 'ID'))
temp <- sapply(slot(regions.wa,"polygons"), function(x) slot(x, 'ID'))
temp
regions.wa <- gIntersection(regions,wa,byid=TRUE)
temp <- sapply(slot(regions.wa,"polygons"), function(x) slot(x, 'ID'))
temp
temp2 <- c()
for(el in temp){
temp2 <- c(temp2,strsplit(el,' ')[[1]])
}
regions.wa.data <- regions.wa.data[which(rownames(regions.wa.data) %in% temp2),]
regions.wa.data <- as.data.frame(lakes@data,stringsAsFactors=FALSE)
regions.wa.data <- regions.wa.data[which(rownames(regions.wa.data) %in% temp2),]
regions.wa <- SpatialPolygonsDataFrame(regions.wa,regions.wa.data)
regions.wa <- SpatialPolygonsDataFrame(regions.wa,regions.wa.data, match.ID=FALSE)
regions.wa.df <- shapeToDataFrame(regions.wa)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
geom_polygon(data=regions.wa.df, aes(x=long,y=lat,group=group),fill=NA,color='red')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
geom_polygon(data=regions.wa.df, aes(x=long,y=lat,group=group,fill=group),color='red')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
geom_polygon(data=regions.wa.df, aes(x=long,y=lat,group=group,fill=group),color='red')+
#scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
geom_polygon(data=regions.wa.df, aes(x=long,y=lat,group=group,fill=factor(group)),color='red')+
#scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
View(regions.wa.data)
regions.wa.data <- as.data.frame(regions@data,stringsAsFactors=FALSE)
regions.wa.data <- regions.wa.data[which(rownames(regions.wa.data) %in% temp2),]
regions.wa <- SpatialPolygonsDataFrame(regions.wa,regions.wa.data, match.ID=FALSE)
regions.wa.df <- shapeToDataFrame(regions.wa)
View(regions.wa.data)
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
geom_polygon(data=regions.wa.df, aes(x=long,y=lat,group=group,fill=name),color='red')+
#scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
ggplot()+
#geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
geom_polygon(data=regions.wa.df, aes(x=long,y=lat,group=group,fill=name),color='red')+
#scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
ggplot()+
geom_raster(data=wa.df.r, aes(x=Longitude, y=Latitude, fill=MAP))+
geom_polygon(data=wa, aes(x=long,y=lat,group=group),fill=NA,color='black')+
geom_path(data=rivers.wa.df, aes(x=long,y=lat,group=group), fill="Blue",color="Blue")+
geom_polygon(data=lakes.wa.df, aes(x=long,y=lat,group=group),fill='blue')+
geom_polygon(data=regions.wa.df, aes(x=long,y=lat,group=group),fill=NA,color='black')+
scale_fill_continuous(name="Relief",low="#006400",high="white")+
theme(panel.background=element_rect(fill='Blue'),
panel.grid=element_blank())
